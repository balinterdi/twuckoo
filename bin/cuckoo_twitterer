#!/usr/bin/env ruby

dir = File.join(File.dirname(__FILE__), '..', 'lib')

require File.join(dir, 'cuckoo_twitterer')

Dir.glob(File.join(dir, 'modules', '*.rb')).each do |mod|
  require mod
end

module_to_include = case ARGV.first.downcase
when "from_file"
  OneLineFromFile
when "file"
  OneLineFromFile  
when "wikipedia_tfa"
  WikipediaTFA
else
  raise "No module to include was provided."
end

CuckooTwitterer.send(:include, module_to_include)
@cuckoo = CuckooTwitterer.new
# @cuckoo.set_testing
@cuckoo.run
